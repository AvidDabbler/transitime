<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Fri Mar 06 08:51:01 PST 2015 -->
<title>Statistics</title>
<meta name="date" content="2015-03-06">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Statistics";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Statistics.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/transitime/statistics/ScheduleStatistics.Stats.html" title="class in org.transitime.statistics"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/transitime/statistics/Statistics.html" target="_top">Frames</a></li>
<li><a href="Statistics.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.transitime.statistics</div>
<h2 title="Class Statistics" class="title">Class Statistics</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.transitime.statistics.Statistics</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">Statistics</span>
extends java.lang.Object</pre>
<div class="block">Some miscellaneous statistics functions such as determining average values
 from a list and for determining average after filtering out of outliers from
 a list. Also contains simple statistical functions for determining mean and
 standard deviation. Could use Apache Commons math3 library instead but this
 calculations are so simple that seems unnecessary.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>SkiBu Smith</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/transitime/statistics/Statistics.html#Statistics()">Statistics</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/statistics/Statistics.html#biasedFilteredMean(java.util.List, double, double)">biasedFilteredMean</a></strong>(java.util.List&lt;java.lang.Integer&gt;&nbsp;values,
                  double&nbsp;fractionalLimit,
                  double&nbsp;stdDevBias)</code>
<div class="block">Returns a filtered mean that is biased to be conservative.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/statistics/Statistics.html#filteredMean(java.util.List, double)">filteredMean</a></strong>(java.util.List&lt;java.lang.Integer&gt;&nbsp;values,
            double&nbsp;fractionalLimit)</code>
<div class="block">Gets the mean value of the values passed in.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/statistics/Statistics.html#getSampleStandardDeviation(double[], double)">getSampleStandardDeviation</a></strong>(double[]&nbsp;values,
                          double&nbsp;mean)</code>
<div class="block">Returns the sample standard deviation for the values passed in.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/statistics/Statistics.html#main(java.lang.String[])">main</a></strong>(java.lang.String[]&nbsp;args)</code>
<div class="block">Just for testing</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/statistics/Statistics.html#mean(double[])">mean</a></strong>(double[]&nbsp;values)</code>
<div class="block">Returns the mean of the array of doubles</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/statistics/Statistics.html#mean(int[])">mean</a></strong>(int[]&nbsp;values)</code>
<div class="block">Returns the mean of the array of ints</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/statistics/Statistics.html#mean(java.util.List)">mean</a></strong>(java.util.List&lt;java.lang.Integer&gt;&nbsp;values)</code>
<div class="block">Gets the mean values of the values passed in, without doing any
 filtering.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int[]</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/statistics/Statistics.html#toArray(java.util.List)">toArray</a></strong>(java.util.List&lt;java.lang.Integer&gt;&nbsp;list)</code>
<div class="block">Converts the List<Integer> to a array of ints.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static double[]</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/statistics/Statistics.html#toDoubleArray(int[])">toDoubleArray</a></strong>(int[]&nbsp;array)</code>
<div class="block">For converting array of ints into array of doubles so that it can
 be used in the statistics functions.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static double[]</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/statistics/Statistics.html#toDoubleArray(java.util.List)">toDoubleArray</a></strong>(java.util.List&lt;java.lang.Integer&gt;&nbsp;list)</code>
<div class="block">For converting List of Integers into array of doubles so that it can
 be used in the statistics functions.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Statistics()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Statistics</h4>
<pre>public&nbsp;Statistics()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="filteredMean(java.util.List, double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>filteredMean</h4>
<pre>public static&nbsp;int&nbsp;filteredMean(java.util.List&lt;java.lang.Integer&gt;&nbsp;values,
               double&nbsp;fractionalLimit)</pre>
<div class="block">Gets the mean value of the values passed in. Filters outliers that are
 less than minPercentage or greater than maxPercentage of the average of
 all values.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>values</code> - The values to be averaged</dd><dd><code>fractionalLimit</code> - If value is further away than fractionalLimit of average it is
            filtered out if there are more than 2 data points. Expressed
            as a fractional value between 0.0 and 1.0 such that a value of
            0.0 means no data points are filtered out and a value of 1.0
            means 100% of the datapoints are filtered out. Therefore if
            one uses a value of 0.5 than values below 50% or above 200% of
            the average are filtered out. A value of 0.7 is likely
            reasonable since that would filter out values below 70% or
            above 143% (1/0.7) of the average.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The average value, after outliers have been filtered</dd></dl>
</li>
</ul>
<a name="biasedFilteredMean(java.util.List, double, double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>biasedFilteredMean</h4>
<pre>public static&nbsp;int&nbsp;biasedFilteredMean(java.util.List&lt;java.lang.Integer&gt;&nbsp;values,
                     double&nbsp;fractionalLimit,
                     double&nbsp;stdDevBias)</pre>
<div class="block">Returns a filtered mean that is biased to be conservative. First, loops
 through the data to determine the average and to throw out any data
 points that are outliers. This is important since outliers are not part
 of a normal distribution since they represent non-stochastic data (such
 as a breakdown, accident, etc). Then instead of just returning the
 average, the remaining datapoints, as long as there are at least data
 points remaining, are considered to be of a normal distribution and the
 value that is returned is mean - stdDevBias * standardDeviation. If
 stdDevBias is set to 0.0 then the average is returned. If stdDevBias is
 1.0 then the value returned is 1.0 standard deviations below the average,
 which means that 68% + (100% - 68%)/2 = 84% of the time the actual value
 would be at least as large as the value returned by this method.
 <p>
 This method is useful for when need to be somewhat conservative, such as
 when determine expected stop time at a terminal. For such a situation
 want to take into account when vehicle really leaves the terminal so want
 to determine the average time. But it is really problematic if the time
 varies which could mean that the passenger misses the vehicle.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>values</code> - The values to be averaged</dd><dd><code>fractionalLimit</code> - If value is further away than fractionalLimit of average it is
            filtered out if there are more than 2 data points. Expressed
            as a fractional value between 0.0 and 1.0 such that a value of
            0.0 means no data points are filtered out and a value of 1.0
            means 100% of the datapoints are filtered out. Therefore if
            one uses a value of 0.5 than values below 50% or above 200% of
            the average are filtered out. A value of 0.7 is likely
            reasonable since that would filter out values below 70% or
            above 143% (1/0.7) of the average.</dd><dd><code>stdDevBias</code> - How much to bias the mean. For a normal distribution (after
            outliers filtered out) using a value of 1.0 standard deviation
            means that will return mean - stdDevation. A value of 0.0 would
            return the mean.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The mean value, after outliers have been filtered and the average
         is biased down by specified stdDevBias with respect to the
         standard deviation.</dd></dl>
</li>
</ul>
<a name="toArray(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toArray</h4>
<pre>public static&nbsp;int[]&nbsp;toArray(java.util.List&lt;java.lang.Integer&gt;&nbsp;list)</pre>
<div class="block">Converts the List<Integer> to a array of ints. This can be useful
 when amount of memory used is critical.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>list</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="toDoubleArray(int[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toDoubleArray</h4>
<pre>public static&nbsp;double[]&nbsp;toDoubleArray(int[]&nbsp;array)</pre>
<div class="block">For converting array of ints into array of doubles so that it can
 be used in the statistics functions.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>array</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="toDoubleArray(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toDoubleArray</h4>
<pre>public static&nbsp;double[]&nbsp;toDoubleArray(java.util.List&lt;java.lang.Integer&gt;&nbsp;list)</pre>
<div class="block">For converting List of Integers into array of doubles so that it can
 be used in the statistics functions.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>list</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="mean(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mean</h4>
<pre>public static&nbsp;int&nbsp;mean(java.util.List&lt;java.lang.Integer&gt;&nbsp;values)</pre>
<div class="block">Gets the mean values of the values passed in, without doing any
 filtering.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>values</code> - The values to be averaged</dd>
<dt><span class="strong">Returns:</span></dt><dd>The average</dd></dl>
</li>
</ul>
<a name="mean(double[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mean</h4>
<pre>public static&nbsp;double&nbsp;mean(double[]&nbsp;values)</pre>
<div class="block">Returns the mean of the array of doubles</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>values</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>the mean, or NaN if there is no data</dd></dl>
</li>
</ul>
<a name="mean(int[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mean</h4>
<pre>public static&nbsp;double&nbsp;mean(int[]&nbsp;values)</pre>
<div class="block">Returns the mean of the array of ints</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>values</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getSampleStandardDeviation(double[], double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSampleStandardDeviation</h4>
<pre>public static&nbsp;double&nbsp;getSampleStandardDeviation(double[]&nbsp;values,
                                double&nbsp;mean)</pre>
<div class="block">Returns the sample standard deviation for the values passed in.
 The "sample" standard deviation is used because only looking at
 a subset of data and the sample size is expected to be relatively
 small. To determine the "sample" standard deviation the variance
 is determined by dividing by N-1 instead of N.
 Since most clients will also need the mean it is passed in to
 this method so that it is not calculated twice.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>values</code> - </dd><dd><code>mean</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>the sample standard deviation. Returns NaN if sample size is 1.</dd></dl>
</li>
</ul>
<a name="main(java.lang.String[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)</pre>
<div class="block">Just for testing</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Statistics.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/transitime/statistics/ScheduleStatistics.Stats.html" title="class in org.transitime.statistics"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/transitime/statistics/Statistics.html" target="_top">Frames</a></li>
<li><a href="Statistics.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
