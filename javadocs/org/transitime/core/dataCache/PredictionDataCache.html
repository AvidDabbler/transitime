<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Mon Aug 25 17:39:58 PDT 2014 -->
<title>PredictionDataCache</title>
<meta name="date" content="2014-08-25">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PredictionDataCache";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PredictionDataCache.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../org/transitime/core/dataCache/VehicleDataCache.html" title="class in org.transitime.core.dataCache"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/transitime/core/dataCache/PredictionDataCache.html" target="_top">Frames</a></li>
<li><a href="PredictionDataCache.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.transitime.core.dataCache</div>
<h2 title="Class PredictionDataCache" class="title">Class PredictionDataCache</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.transitime.core.dataCache.PredictionDataCache</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">PredictionDataCache</span>
extends java.lang.Object</pre>
<div class="block">For storing and retrieving predictions by stop.
 <p>
 Concurrency and thread safety is very important in this class since will
 have multiple threads writing and reading predictions. Need to make sure
 that the predictions obtained are always complete, even if another thread
 is simultaneously updating predictions by removing one and then adding
 an updated prediction. Otherwise might obtain predictions when the
 old one has been removed but the new one has not yet been written, causing
 a prediction to be missed.
 <p>
 For concurrency and thread safety using ConcurrentHashMap instead of 
 HashMap. 
 <p> 
 getPredictions() returns a copy of the list of predictions for the
 route/stop. This way the contents will always be coherent and the 
 caller does not need to synchronize, which would be difficult to
 enforce.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>SkiBu Smith</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#getAllPredictions(int, long)">getAllPredictions</a></strong>(int&nbsp;maxPredictionsPerStop,
                 long&nbsp;maxSystemTimeForPrediction)</code>
<div class="block">Returns copy of all predictions for system, limited by
 maxPredictionsPerStop and maxPredictionTime.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html" title="class in org.transitime.core.dataCache">PredictionDataCache</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#getInstance()">getInstance</a></strong>()</code>
<div class="block">Returns singleton object for this class.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/transitime/ipc/data/IpcPrediction.html" title="class in org.transitime.ipc.data">IpcPrediction</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#getPredictionForVehicle(java.lang.String, java.lang.String, java.lang.String)">getPredictionForVehicle</a></strong>(java.lang.String&nbsp;vehicleId,
                       java.lang.String&nbsp;routeShortName,
                       java.lang.String&nbsp;stopId)</code>
<div class="block">Gets predictions for specified route/stop and returns the first one for
 the specified vehicle.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#getPredictions(java.util.List)">getPredictions</a></strong>(java.util.List&lt;<a href="../../../../org/transitime/ipc/interfaces/PredictionsInterface.RouteStop.html" title="class in org.transitime.ipc.interfaces">PredictionsInterface.RouteStop</a>&gt;&nbsp;routeStops)</code>
<div class="block">Returns copy of all predictions currently associated for each route/stop specified.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#getPredictions(java.util.List, int)">getPredictions</a></strong>(java.util.List&lt;<a href="../../../../org/transitime/ipc/interfaces/PredictionsInterface.RouteStop.html" title="class in org.transitime.ipc.interfaces">PredictionsInterface.RouteStop</a>&gt;&nbsp;routeStops,
              int&nbsp;predictionsPerStop)</code>
<div class="block">Returns copy of List<PredictionsForRouteStop> objects for each route/stop
 specified.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#getPredictions(java.lang.String, java.lang.String)">getPredictions</a></strong>(java.lang.String&nbsp;routeShortName,
              java.lang.String&nbsp;stopId)</code>
<div class="block">Returns copy of all predictions currently associated with the stop.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#getPredictions(java.lang.String, java.lang.String, int)">getPredictions</a></strong>(java.lang.String&nbsp;routeShortName,
              java.lang.String&nbsp;stopId,
              int&nbsp;maxPredictionsPerStop)</code>
<div class="block">Returns copy of the PredictionsForRouteStop object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#getPredictions(java.lang.String, java.lang.String, int, double)">getPredictions</a></strong>(java.lang.String&nbsp;routeShortName,
              java.lang.String&nbsp;stopId,
              int&nbsp;maxPredictionsPerStop,
              double&nbsp;distanceToStop)</code>
<div class="block">Returns copy of the PredictionsForRouteStop object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#getPredictionsUsingRouteId(java.util.List)">getPredictionsUsingRouteId</a></strong>(java.util.List&lt;<a href="../../../../org/transitime/ipc/interfaces/PredictionsInterface.RouteStop.html" title="class in org.transitime.ipc.interfaces">PredictionsInterface.RouteStop</a>&gt;&nbsp;routeStops)</code>
<div class="block">Returns copy of all predictions currently associated for each route/stop specified.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#getPredictionsUsingRouteId(java.util.List, int)">getPredictionsUsingRouteId</a></strong>(java.util.List&lt;<a href="../../../../org/transitime/ipc/interfaces/PredictionsInterface.RouteStop.html" title="class in org.transitime.ipc.interfaces">PredictionsInterface.RouteStop</a>&gt;&nbsp;routeStops,
                          int&nbsp;predictionsPerStop)</code>
<div class="block">Returns copy of List<Prediction> objects for each route/stop specified.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#getPredictionsUsingRouteId(java.lang.String, java.lang.String)">getPredictionsUsingRouteId</a></strong>(java.lang.String&nbsp;routeId,
                          java.lang.String&nbsp;stopId)</code>
<div class="block">Returns copy of all predictions currently associated with the stop.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#getPredictionsUsingRouteId(java.lang.String, java.lang.String, int)">getPredictionsUsingRouteId</a></strong>(java.lang.String&nbsp;routeId,
                          java.lang.String&nbsp;stopId,
                          int&nbsp;maxPredictionsPerStop)</code>
<div class="block">Returns copy of the predictions associated with the route/stop specified.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#getSystemTime()">getSystemTime</a></strong>()</code>
<div class="block">Returns the current time.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#removePredictions(org.transitime.core.VehicleState)">removePredictions</a></strong>(<a href="../../../../org/transitime/core/VehicleState.html" title="class in org.transitime.core">VehicleState</a>&nbsp;vehicleState)</code>
<div class="block">To be called when vehicle is being made unpredictable.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html#updatePredictions(java.util.List, java.util.List)">updatePredictions</a></strong>(java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPrediction.html" title="class in org.transitime.ipc.data">IpcPrediction</a>&gt;&nbsp;oldPredictionsForVehicle,
                 java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPrediction.html" title="class in org.transitime.ipc.data">IpcPrediction</a>&gt;&nbsp;newPredictionsForVehicle)</code>
<div class="block">Updates predictions in the the cache that are associated with a vehicle.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstance()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../../org/transitime/core/dataCache/PredictionDataCache.html" title="class in org.transitime.core.dataCache">PredictionDataCache</a>&nbsp;getInstance()</pre>
<div class="block">Returns singleton object for this class. It will use the regular
 SystemCurrentTime class for determining the time and whether any 
 predictions are obsolete.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getSystemTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSystemTime</h4>
<pre>public&nbsp;long&nbsp;getSystemTime()</pre>
<div class="block">Returns the current time. Can be based on the systems clock
 but when in playback mode will be based on last AVL report.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getPredictions(java.lang.String, java.lang.String, int, double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPredictions</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;&nbsp;getPredictions(java.lang.String&nbsp;routeShortName,
                                                            java.lang.String&nbsp;stopId,
                                                            int&nbsp;maxPredictionsPerStop,
                                                            double&nbsp;distanceToStop)</pre>
<div class="block">Returns copy of the PredictionsForRouteStop object. A clone is used so
 that it can be accessed as needed without worrying about another thread
 writing to it. The list of predictions should be relatively small so
 cloning is not very costly. And this way the caller of this method
 doesn't have to synchronize or such.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>routeShortName</code> - </dd><dd><code>stopId</code> - </dd><dd><code>maxPredictionsPerStop</code> - </dd><dd><code>distanceToStop</code> - For when getting predictions by location</dd>
<dt><span class="strong">Returns:</span></dt><dd>List of IpcPredictionsForRouteStopDest. Can be empty but will not
         be null.</dd></dl>
</li>
</ul>
<a name="getPredictions(java.lang.String, java.lang.String, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPredictions</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;&nbsp;getPredictions(java.lang.String&nbsp;routeShortName,
                                                            java.lang.String&nbsp;stopId,
                                                            int&nbsp;maxPredictionsPerStop)</pre>
<div class="block">Returns copy of the PredictionsForRouteStop object. A clone is used so
 that it can be accessed as needed without worrying about another thread
 writing to it. The list of predictions should be relatively small so
 cloning is not very costly. And this way the caller of this method
 doesn't have to synchronize or such.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>routeShortName</code> - </dd><dd><code>stopId</code> - </dd><dd><code>maxPredictionsPerStop</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>List of IpcPredictionsForRouteStopDest. Can be empty but will not
         be null.</dd></dl>
</li>
</ul>
<a name="getPredictionForVehicle(java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPredictionForVehicle</h4>
<pre>public&nbsp;<a href="../../../../org/transitime/ipc/data/IpcPrediction.html" title="class in org.transitime.ipc.data">IpcPrediction</a>&nbsp;getPredictionForVehicle(java.lang.String&nbsp;vehicleId,
                                    java.lang.String&nbsp;routeShortName,
                                    java.lang.String&nbsp;stopId)</pre>
<div class="block">Gets predictions for specified route/stop and returns the first one for
 the specified vehicle.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>vehicleId</code> - </dd><dd><code>routeShortName</code> - </dd><dd><code>stopId</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>IpcPrediction for the specified vehicle/route/stop or null if
         there are no such predictions</dd></dl>
</li>
</ul>
<a name="getPredictionsUsingRouteId(java.lang.String, java.lang.String, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPredictionsUsingRouteId</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;&nbsp;getPredictionsUsingRouteId(java.lang.String&nbsp;routeId,
                                                                        java.lang.String&nbsp;stopId,
                                                                        int&nbsp;maxPredictionsPerStop)</pre>
<div class="block">Returns copy of the predictions associated with the route/stop specified.
 Note that this method uses the routeId instead of the routeShortName.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>routeId</code> - </dd><dd><code>stopId</code> - </dd><dd><code>maxPredictionsPerStop</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>List of IpcPredictionsForRouteStopDest. Can be empty but will not
         be null.</dd></dl>
</li>
</ul>
<a name="getPredictions(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPredictions</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;&nbsp;getPredictions(java.lang.String&nbsp;routeShortName,
                                                            java.lang.String&nbsp;stopId)</pre>
<div class="block">Returns copy of all predictions currently associated with the stop. Uses
 routeShortName instead of the GTFS routeId to identify the stop.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>routeShortName</code> - </dd><dd><code>stopId</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>List of IpcPredictionsForRouteStopDest. Can be empty but will not
         be null.</dd></dl>
</li>
</ul>
<a name="getPredictionsUsingRouteId(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPredictionsUsingRouteId</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;&nbsp;getPredictionsUsingRouteId(java.lang.String&nbsp;routeId,
                                                                        java.lang.String&nbsp;stopId)</pre>
<div class="block">Returns copy of all predictions currently associated with the stop. Uses
 GTFS routeId instead of the routeShortName to identify the stop.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>routeId</code> - </dd><dd><code>stopId</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getPredictions(java.util.List, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPredictions</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;&nbsp;getPredictions(java.util.List&lt;<a href="../../../../org/transitime/ipc/interfaces/PredictionsInterface.RouteStop.html" title="class in org.transitime.ipc.interfaces">PredictionsInterface.RouteStop</a>&gt;&nbsp;routeStops,
                                                            int&nbsp;predictionsPerStop)</pre>
<div class="block">Returns copy of List<PredictionsForRouteStop> objects for each route/stop
 specified.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>routeStops</code> - Specified using route_short_name instead of route_id</dd><dd><code>predictionsPerStop</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>List of IpcPredictionsForRouteStopDest. Can be empty but will not
         be null.</dd></dl>
</li>
</ul>
<a name="getPredictionsUsingRouteId(java.util.List, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPredictionsUsingRouteId</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;&nbsp;getPredictionsUsingRouteId(java.util.List&lt;<a href="../../../../org/transitime/ipc/interfaces/PredictionsInterface.RouteStop.html" title="class in org.transitime.ipc.interfaces">PredictionsInterface.RouteStop</a>&gt;&nbsp;routeStops,
                                                                        int&nbsp;predictionsPerStop)</pre>
<div class="block">Returns copy of List<Prediction> objects for each route/stop specified.
 Uses route_id instead of route_short_name to identify which predictions
 to return.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>routeStops</code> - Specified using route_id instead of route_short_name</dd><dd><code>predictionsPerStop</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>List of IpcPredictionsForRouteStopDest. Can be empty but will not
         be null.</dd></dl>
</li>
</ul>
<a name="getPredictions(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPredictions</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;&nbsp;getPredictions(java.util.List&lt;<a href="../../../../org/transitime/ipc/interfaces/PredictionsInterface.RouteStop.html" title="class in org.transitime.ipc.interfaces">PredictionsInterface.RouteStop</a>&gt;&nbsp;routeStops)</pre>
<div class="block">Returns copy of all predictions currently associated for each route/stop specified.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>routeStops</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>List of IpcPredictionsForRouteStopDest. Can be empty but will not
         be null.</dd></dl>
</li>
</ul>
<a name="getPredictionsUsingRouteId(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPredictionsUsingRouteId</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;&nbsp;getPredictionsUsingRouteId(java.util.List&lt;<a href="../../../../org/transitime/ipc/interfaces/PredictionsInterface.RouteStop.html" title="class in org.transitime.ipc.interfaces">PredictionsInterface.RouteStop</a>&gt;&nbsp;routeStops)</pre>
<div class="block">Returns copy of all predictions currently associated for each route/stop specified.
 Uses route_id instead of route_short_name to identify which predictions
 to return.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>routeStops</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>List of IpcPredictionsForRouteStopDest. Can be empty but will not
         be null.</dd></dl>
</li>
</ul>
<a name="getAllPredictions(int, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllPredictions</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPredictionsForRouteStopDest.html" title="class in org.transitime.ipc.data">IpcPredictionsForRouteStopDest</a>&gt;&nbsp;getAllPredictions(int&nbsp;maxPredictionsPerStop,
                                                               long&nbsp;maxSystemTimeForPrediction)</pre>
<div class="block">Returns copy of all predictions for system, limited by
 maxPredictionsPerStop and maxPredictionTime.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>maxPredictionsPerStop</code> - Maximum number of predictions per route/stop/destination to
            clone.</dd><dd><code>maxSystemTimeForPrediction</code> - Max point in future want predictions for. This way can limit
            predictions when requesting a large number of them.</dd>
<dt><span class="strong">Returns:</span></dt><dd>List of IpcPredictionsForRouteStopDest. Can be empty but will not
         be null.</dd></dl>
</li>
</ul>
<a name="updatePredictions(java.util.List, java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updatePredictions</h4>
<pre>public&nbsp;void&nbsp;updatePredictions(java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPrediction.html" title="class in org.transitime.ipc.data">IpcPrediction</a>&gt;&nbsp;oldPredictionsForVehicle,
                     java.util.List&lt;<a href="../../../../org/transitime/ipc/data/IpcPrediction.html" title="class in org.transitime.ipc.data">IpcPrediction</a>&gt;&nbsp;newPredictionsForVehicle)</pre>
<div class="block">Updates predictions in the the cache that are associated with a vehicle.
 Removes any that are in oldPredictionsForVehicle and adds all the ones in
 newPredictionsForVehicle.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>oldPredictionsForVehicle</code> - The old predictions to be removed.</dd><dd><code>newPredictionsForVehicle</code> - The new predictions. Can be null if only removing old
            predictions</dd></dl>
</li>
</ul>
<a name="removePredictions(org.transitime.core.VehicleState)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>removePredictions</h4>
<pre>public&nbsp;void&nbsp;removePredictions(<a href="../../../../org/transitime/core/VehicleState.html" title="class in org.transitime.core">VehicleState</a>&nbsp;vehicleState)</pre>
<div class="block">To be called when vehicle is being made unpredictable. Removes the 
 predictions.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>vehicleState</code> - </dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PredictionDataCache.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../org/transitime/core/dataCache/VehicleDataCache.html" title="class in org.transitime.core.dataCache"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/transitime/core/dataCache/PredictionDataCache.html" target="_top">Frames</a></li>
<li><a href="PredictionDataCache.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
