<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Mon Aug 25 18:12:07 PDT 2014 -->
<title>VehicleState</title>
<meta name="date" content="2014-08-25">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="VehicleState";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/VehicleState.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/transitime/core/VehicleAtStopInfo.html" title="class in org.transitime.core"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/transitime/core/VehicleStateManager.html" title="class in org.transitime.core"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/transitime/core/VehicleState.html" target="_top">Frames</a></li>
<li><a href="VehicleState.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.transitime.core</div>
<h2 title="Class VehicleState" class="title">Class VehicleState</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.transitime.core.VehicleState</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">VehicleState</span>
extends java.lang.Object</pre>
<div class="block">Keeps track of vehicle state including its block assignment, where it
 last matched to its assignment, and AVL reports.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>SkiBu Smith</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/transitime/core/VehicleState.html#VehicleState(java.lang.String)">VehicleState</a></strong>(java.lang.String&nbsp;vehicleId)</code>
<div class="block">Member Functions</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#atLayover()">atLayover</a></strong>()</code>
<div class="block">Returns true if last temporal match for vehicle indicates that it is at a
 layover.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../org/transitime/db/structs/Arrival.html" title="class in org.transitime.db.structs">Arrival</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#getArrivalToStoreToDb()">getArrivalToStoreToDb</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../org/transitime/core/BlockAssignmentMethod.html" title="enum in org.transitime.core">BlockAssignmentMethod</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#getAssignmentMethod()">getAssignmentMethod</a></strong>()</code>
<div class="block">Indicates how the vehicle was assigned (via block assignment, route
 assignment, auto assignment, etc).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Date</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#getAssignmentTime()">getAssignmentTime</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../org/transitime/db/structs/AvlReport.html" title="class in org.transitime.db.structs">AvlReport</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#getAvlReport()">getAvlReport</a></strong>()</code>
<div class="block">Returns the current AvlReport.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../org/transitime/db/structs/Block.html" title="class in org.transitime.db.structs">Block</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#getBlock()">getBlock</a></strong>()</code>
<div class="block">The current block assignment.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>float</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#getHeading()">getHeading</a></strong>()</code>
<div class="block">Normally uses the heading from getPathHeading().</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#getLastArrivalTime()">getLastArrivalTime</a></strong>()</code>
<div class="block">Returns the last stored arrival time so can make sure that departure
 times are after the arrival times.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../org/transitime/core/TemporalMatch.html" title="class in org.transitime.core">TemporalMatch</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#getMatch()">getMatch</a></strong>()</code>
<div class="block">Returns the last temporal match.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../org/transitime/core/TemporalMatch.html" title="class in org.transitime.core">TemporalMatch</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#getMatches()">getMatches</a></strong>()</code>
<div class="block">Returns an unmodifiable list of the match history.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>float</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#getPathHeading()">getPathHeading</a></strong>()</code>
<div class="block">Determines the heading of the vector that defines the stop path segment
 that the vehicle is currently on.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../org/transitime/ipc/data/IpcPrediction.html" title="class in org.transitime.ipc.data">IpcPrediction</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#getPredictions()">getPredictions</a></strong>()</code>
<div class="block">Gets the current list of predictions for the vehicle.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../org/transitime/db/structs/AvlReport.html" title="class in org.transitime.db.structs">AvlReport</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#getPreviousAvlReport(double)">getPreviousAvlReport</a></strong>(double&nbsp;minDistanceFromCurrentReport)</code>
<div class="block">Looks in the AvlReport history for the most recent AvlReport that is
 at least minDistanceFromCurrentReport from the current AvlReport.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../org/transitime/db/structs/AvlReport.html" title="class in org.transitime.db.structs">AvlReport</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#getPreviousAvlReportFromSuccessfulMatch()">getPreviousAvlReportFromSuccessfulMatch</a></strong>()</code>
<div class="block">Returns the next to last AvlReport where successfully matched the
 vehicle.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../org/transitime/core/TemporalMatch.html" title="class in org.transitime.core">TemporalMatch</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#getPreviousMatch()">getPreviousMatch</a></strong>()</code>
<div class="block">Returns the next to last temporal match.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../org/transitime/core/TemporalDifference.html" title="class in org.transitime.core">TemporalDifference</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#getRealTimeSchedAdh()">getRealTimeSchedAdh</a></strong>()</code>
<div class="block">Returns the current real-time schedule adherence for the vehicle,
 or null if schedule adherence not currently valid (vehicle is
 not predictable or running a non-schedule based assignment).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#getRouteId()">getRouteId</a></strong>()</code>
<div class="block">Returns the current route ID for the vehicle.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#getRouteShortName()">getRouteShortName</a></strong>()</code>
<div class="block">Returns the current route short name for the vehicle.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../org/transitime/db/structs/Trip.html" title="class in org.transitime.db.structs">Trip</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#getTrip()">getTrip</a></strong>()</code>
<div class="block">Returns the current Trip for the vehicle.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#getVehicleId()">getVehicleId</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#hasNewBlockAssignment(org.transitime.db.structs.AvlReport)">hasNewBlockAssignment</a></strong>(<a href="../../../org/transitime/db/structs/AvlReport.html" title="class in org.transitime.db.structs">AvlReport</a>&nbsp;avlReport)</code>
<div class="block">Returns true if the AVL report has a different block assignment
 than what is in the VehicleState.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#incrementNumberOfBadMatches()">incrementNumberOfBadMatches</a></strong>()</code>
<div class="block">To be called when predictable vehicle has no valid spatial/temporal
 match.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#isPredictable()">isPredictable</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#lastMatchIsValid()">lastMatchIsValid</a></strong>()</code>
<div class="block">Returns true if the last AVL report was successfully matched to the
 assignment indicating that can generate predictions and arrival/departure
 times etc.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#numberOfBadMatches()">numberOfBadMatches</a></strong>()</code>
<div class="block">Returns the number of sequential bad spatial/temporal matches that
 occurred while vehicle was predictable.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#overLimitOfBadMatches()">overLimitOfBadMatches</a></strong>()</code>
<div class="block">Returns if have exceeded the number of allowed bad matches.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#setArrivalToStoreToDb(org.transitime.db.structs.Arrival)">setArrivalToStoreToDb</a></strong>(<a href="../../../org/transitime/db/structs/Arrival.html" title="class in org.transitime.db.structs">Arrival</a>&nbsp;arrival)</code>
<div class="block">Records the specified arrival as one that still needs to be stored to the
 db.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#setAvlReport(org.transitime.db.structs.AvlReport)">setAvlReport</a></strong>(<a href="../../../org/transitime/db/structs/AvlReport.html" title="class in org.transitime.db.structs">AvlReport</a>&nbsp;avlReport)</code>
<div class="block">Stores the specified avlReport into the history for the vehicle.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#setBlock(org.transitime.db.structs.Block, org.transitime.core.BlockAssignmentMethod, boolean)">setBlock</a></strong>(<a href="../../../org/transitime/db/structs/Block.html" title="class in org.transitime.db.structs">Block</a>&nbsp;newBlock,
        <a href="../../../org/transitime/core/BlockAssignmentMethod.html" title="enum in org.transitime.core">BlockAssignmentMethod</a>&nbsp;assignmentMethod,
        boolean&nbsp;predictable)</code>
<div class="block">Sets the block assignment for vehicle.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#setLastArrivalTime(long)">setLastArrivalTime</a></strong>(long&nbsp;arrivalTime)</code>
<div class="block">Stores the last arrival time so that can make sure that departure
 times are after the arrival times.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#setMatch(org.transitime.core.TemporalMatch)">setMatch</a></strong>(<a href="../../../org/transitime/core/TemporalMatch.html" title="class in org.transitime.core">TemporalMatch</a>&nbsp;match)</code>
<div class="block">Sets the match for the vehicle into the history.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#setPredictions(java.util.List)">setPredictions</a></strong>(java.util.List&lt;<a href="../../../org/transitime/ipc/data/IpcPrediction.html" title="class in org.transitime.ipc.data">IpcPrediction</a>&gt;&nbsp;predictions)</code>
<div class="block">Sets the current list of predictions for the vehicle to the
 predictions parameter.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#setRealTimeSchedAdh(org.transitime.core.TemporalDifference)">setRealTimeSchedAdh</a></strong>(<a href="../../../org/transitime/core/TemporalDifference.html" title="class in org.transitime.core">TemporalDifference</a>&nbsp;realTimeSchedAdh)</code>
<div class="block">Stores the real-time schedule adherence for the vehicle.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#toStringVerbose()">toStringVerbose</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/VehicleState.html#vehicleNewlyAssignedToSameBlock()">vehicleNewlyAssignedToSameBlock</a></strong>()</code>
<div class="block">Determines if vehicle is just getting assigned and it is getting assigned
 back to the same block it was assigned to just a while ago.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="VehicleState(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>VehicleState</h4>
<pre>public&nbsp;VehicleState(java.lang.String&nbsp;vehicleId)</pre>
<div class="block">Member Functions</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setBlock(org.transitime.db.structs.Block, org.transitime.core.BlockAssignmentMethod, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBlock</h4>
<pre>public&nbsp;void&nbsp;setBlock(<a href="../../../org/transitime/db/structs/Block.html" title="class in org.transitime.db.structs">Block</a>&nbsp;newBlock,
            <a href="../../../org/transitime/core/BlockAssignmentMethod.html" title="enum in org.transitime.core">BlockAssignmentMethod</a>&nbsp;assignmentMethod,
            boolean&nbsp;predictable)</pre>
<div class="block">Sets the block assignment for vehicle. Also, this is how it is specified
 whether a vehicle is predictable or not.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>newBlock</code> - The current block assignment for the vehicle. Set to null if
            vehicle not assigned.</dd><dd><code>assignmentMethod</code> - How vehicle was assigned (AVL feed, auto assigner, etc)</dd><dd><code>predictable</code> - Whether vehicle is predictable</dd></dl>
</li>
</ul>
<a name="vehicleNewlyAssignedToSameBlock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>vehicleNewlyAssignedToSameBlock</h4>
<pre>public&nbsp;boolean&nbsp;vehicleNewlyAssignedToSameBlock()</pre>
<div class="block">Determines if vehicle is just getting assigned and it is getting assigned
 back to the same block it was assigned to just a while ago. In other
 words this tells if vehicle might have become unpredictable but then is
 getting reassigned again. In this kind of situation don't want to for
 example determine arrivals/departures back to the beginning of the block
 because probably already did so when vehicle was previously assigned.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>True if vehicle is being reassigned to the same block as before</dd></dl>
</li>
</ul>
<a name="setMatch(org.transitime.core.TemporalMatch)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMatch</h4>
<pre>public&nbsp;void&nbsp;setMatch(<a href="../../../org/transitime/core/TemporalMatch.html" title="class in org.transitime.core">TemporalMatch</a>&nbsp;match)</pre>
<div class="block">Sets the match for the vehicle into the history. If set to null then
 VehicleState.predictable is set to false. Also resets numberOfBadMatches
 to 0.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>match</code> - </dd></dl>
</li>
</ul>
<a name="getMatch()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMatch</h4>
<pre>public&nbsp;<a href="../../../org/transitime/core/TemporalMatch.html" title="class in org.transitime.core">TemporalMatch</a>&nbsp;getMatch()</pre>
<div class="block">Returns the last temporal match. Returns null if there isn't one.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="incrementNumberOfBadMatches()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>incrementNumberOfBadMatches</h4>
<pre>public&nbsp;void&nbsp;incrementNumberOfBadMatches()</pre>
<div class="block">To be called when predictable vehicle has no valid spatial/temporal
 match. Only allowed so many of these before vehicle is made
 unpredictable.</div>
</li>
</ul>
<a name="overLimitOfBadMatches()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>overLimitOfBadMatches</h4>
<pre>public&nbsp;boolean&nbsp;overLimitOfBadMatches()</pre>
<div class="block">Returns if have exceeded the number of allowed bad matches. If so
 then vehicle should be made unpredictable.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="numberOfBadMatches()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numberOfBadMatches</h4>
<pre>public&nbsp;int&nbsp;numberOfBadMatches()</pre>
<div class="block">Returns the number of sequential bad spatial/temporal matches that
 occurred while vehicle was predictable.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>current number of bad matches</dd></dl>
</li>
</ul>
<a name="lastMatchIsValid()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastMatchIsValid</h4>
<pre>public&nbsp;boolean&nbsp;lastMatchIsValid()</pre>
<div class="block">Returns true if the last AVL report was successfully matched to the
 assignment indicating that can generate predictions and arrival/departure
 times etc.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>True if last match is valid</dd></dl>
</li>
</ul>
<a name="setAvlReport(org.transitime.db.structs.AvlReport)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAvlReport</h4>
<pre>public&nbsp;void&nbsp;setAvlReport(<a href="../../../org/transitime/db/structs/AvlReport.html" title="class in org.transitime.db.structs">AvlReport</a>&nbsp;avlReport)</pre>
<div class="block">Stores the specified avlReport into the history for the vehicle.
 Makes sure that the AVL history doesn't exceed maximum size.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>avlReport</code> - </dd></dl>
</li>
</ul>
<a name="getTrip()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTrip</h4>
<pre>public&nbsp;<a href="../../../org/transitime/db/structs/Trip.html" title="class in org.transitime.db.structs">Trip</a>&nbsp;getTrip()</pre>
<div class="block">Returns the current Trip for the vehicle. Returns null if there is not
 current trip.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Trip or null.</dd></dl>
</li>
</ul>
<a name="getRouteId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRouteId</h4>
<pre>public&nbsp;java.lang.String&nbsp;getRouteId()</pre>
<div class="block">Returns the current route ID for the vehicle. Returns null if not
 currently associated with a trip.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Route ID or null.</dd></dl>
</li>
</ul>
<a name="getRouteShortName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRouteShortName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getRouteShortName()</pre>
<div class="block">Returns the current route short name for the vehicle. Returns null if not
 currently associated with a trip.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>route short name or null</dd></dl>
</li>
</ul>
<a name="atLayover()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>atLayover</h4>
<pre>public&nbsp;boolean&nbsp;atLayover()</pre>
<div class="block">Returns true if last temporal match for vehicle indicates that it is at a
 layover. A layover stop is when a vehicle can leave route path before
 departing this stop since the driver is taking a break.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if at a layover</dd></dl>
</li>
</ul>
<a name="getPreviousMatch()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPreviousMatch</h4>
<pre>public&nbsp;<a href="../../../org/transitime/core/TemporalMatch.html" title="class in org.transitime.core">TemporalMatch</a>&nbsp;getPreviousMatch()</pre>
<div class="block">Returns the next to last temporal match. Returns null if there isn't
 one. Useful for when need to compare the previous to last match with
 the last one, such as for determining if vehicle has crossed any
 stops.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getAvlReport()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAvlReport</h4>
<pre>public&nbsp;<a href="../../../org/transitime/db/structs/AvlReport.html" title="class in org.transitime.db.structs">AvlReport</a>&nbsp;getAvlReport()</pre>
<div class="block">Returns the current AvlReport. Returns null if there isn't one.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getPreviousAvlReport(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPreviousAvlReport</h4>
<pre>public&nbsp;<a href="../../../org/transitime/db/structs/AvlReport.html" title="class in org.transitime.db.structs">AvlReport</a>&nbsp;getPreviousAvlReport(double&nbsp;minDistanceFromCurrentReport)</pre>
<div class="block">Looks in the AvlReport history for the most recent AvlReport that is
 at least minDistanceFromCurrentReport from the current AvlReport.
 Also makes sure that previous report isn't too old.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>minDistanceFromCurrentReport</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>The previous AvlReport, or null if there isn't one that far away</dd></dl>
</li>
</ul>
<a name="getPreviousAvlReportFromSuccessfulMatch()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPreviousAvlReportFromSuccessfulMatch</h4>
<pre>public&nbsp;<a href="../../../org/transitime/db/structs/AvlReport.html" title="class in org.transitime.db.structs">AvlReport</a>&nbsp;getPreviousAvlReportFromSuccessfulMatch()</pre>
<div class="block">Returns the next to last AvlReport where successfully matched the
 vehicle. This isn't necessarily simply the previous AvlReport since that
 report might not have been successfully matched. It is important to use
 the proper AvlReport when matching a vehicle or such because otherwise
 the elapsed time between the last successful match and the current match
 would be wrong.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The last successfully matched AvlReport, or null if no such
         report is available</dd></dl>
</li>
</ul>
<a name="hasNewBlockAssignment(org.transitime.db.structs.AvlReport)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasNewBlockAssignment</h4>
<pre>public&nbsp;boolean&nbsp;hasNewBlockAssignment(<a href="../../../org/transitime/db/structs/AvlReport.html" title="class in org.transitime.db.structs">AvlReport</a>&nbsp;avlReport)</pre>
<div class="block">Returns true if the AVL report has a different block assignment
 than what is in the VehicleState. For when reassigning a vehicle
 via the AVL feed.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>avlReport</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getMatches()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMatches</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../org/transitime/core/TemporalMatch.html" title="class in org.transitime.core">TemporalMatch</a>&gt;&nbsp;getMatches()</pre>
<div class="block">Returns an unmodifiable list of the match history. The most recent
 one is first. The size of the list will be not greater than
 MATCH_HISTORY_SIZE.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the match history</dd></dl>
</li>
</ul>
<a name="getBlock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBlock</h4>
<pre>public&nbsp;<a href="../../../org/transitime/db/structs/Block.html" title="class in org.transitime.db.structs">Block</a>&nbsp;getBlock()</pre>
<div class="block">The current block assignment. But will be null if vehicle not currently
 assigned.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getAssignmentMethod()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAssignmentMethod</h4>
<pre>public&nbsp;<a href="../../../org/transitime/core/BlockAssignmentMethod.html" title="enum in org.transitime.core">BlockAssignmentMethod</a>&nbsp;getAssignmentMethod()</pre>
<div class="block">Indicates how the vehicle was assigned (via block assignment, route
 assignment, auto assignment, etc).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getAssignmentTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAssignmentTime</h4>
<pre>public&nbsp;java.util.Date&nbsp;getAssignmentTime()</pre>
</li>
</ul>
<a name="getVehicleId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVehicleId</h4>
<pre>public&nbsp;java.lang.String&nbsp;getVehicleId()</pre>
</li>
</ul>
<a name="isPredictable()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPredictable</h4>
<pre>public&nbsp;boolean&nbsp;isPredictable()</pre>
</li>
</ul>
<a name="setArrivalToStoreToDb(org.transitime.db.structs.Arrival)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setArrivalToStoreToDb</h4>
<pre>public&nbsp;void&nbsp;setArrivalToStoreToDb(<a href="../../../org/transitime/db/structs/Arrival.html" title="class in org.transitime.db.structs">Arrival</a>&nbsp;arrival)</pre>
<div class="block">Records the specified arrival as one that still needs to be stored to the
 db. This is important because can generate arrivals into the future but
 need to make sure that the arrival is before the subsequent departure and
 can't do so until get additional AVL reports.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>arrival</code> - </dd></dl>
</li>
</ul>
<a name="getArrivalToStoreToDb()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getArrivalToStoreToDb</h4>
<pre>public&nbsp;<a href="../../../org/transitime/db/structs/Arrival.html" title="class in org.transitime.db.structs">Arrival</a>&nbsp;getArrivalToStoreToDb()</pre>
</li>
</ul>
<a name="setPredictions(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPredictions</h4>
<pre>public&nbsp;void&nbsp;setPredictions(java.util.List&lt;<a href="../../../org/transitime/ipc/data/IpcPrediction.html" title="class in org.transitime.ipc.data">IpcPrediction</a>&gt;&nbsp;predictions)</pre>
<div class="block">Sets the current list of predictions for the vehicle to the
 predictions parameter.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>predictions</code> - </dd></dl>
</li>
</ul>
<a name="getPredictions()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPredictions</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../org/transitime/ipc/data/IpcPrediction.html" title="class in org.transitime.ipc.data">IpcPrediction</a>&gt;&nbsp;getPredictions()</pre>
<div class="block">Gets the current list of predictions for the vehicle. Can be null.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="setRealTimeSchedAdh(org.transitime.core.TemporalDifference)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRealTimeSchedAdh</h4>
<pre>public&nbsp;void&nbsp;setRealTimeSchedAdh(<a href="../../../org/transitime/core/TemporalDifference.html" title="class in org.transitime.core">TemporalDifference</a>&nbsp;realTimeSchedAdh)</pre>
<div class="block">Stores the real-time schedule adherence for the vehicle.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>realTimeSchedAdh</code> - </dd></dl>
</li>
</ul>
<a name="getRealTimeSchedAdh()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRealTimeSchedAdh</h4>
<pre>public&nbsp;<a href="../../../org/transitime/core/TemporalDifference.html" title="class in org.transitime.core">TemporalDifference</a>&nbsp;getRealTimeSchedAdh()</pre>
<div class="block">Returns the current real-time schedule adherence for the vehicle,
 or null if schedule adherence not currently valid (vehicle is
 not predictable or running a non-schedule based assignment).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getPathHeading()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPathHeading</h4>
<pre>public&nbsp;float&nbsp;getPathHeading()</pre>
<div class="block">Determines the heading of the vector that defines the stop path segment
 that the vehicle is currently on. The heading will be between 0.0 and
 360.0 degrees.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Heading of vehicle according to path segment. NaN if not
         currently matched or there is no heading for that segment.</dd></dl>
</li>
</ul>
<a name="getHeading()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHeading</h4>
<pre>public&nbsp;float&nbsp;getHeading()</pre>
<div class="block">Normally uses the heading from getPathHeading(). But if that returns NaN
 then uses recent valid heading from last AVL report, though that might be
 NaN as well. This can be better then always using heading from AVL report
 since that often won't line up with the path and can make vehicles be
 oriented in noticeably peculiar ways when drawn on an map.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The best heading for a vehicle</dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="toStringVerbose()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toStringVerbose</h4>
<pre>public&nbsp;java.lang.String&nbsp;toStringVerbose()</pre>
</li>
</ul>
<a name="setLastArrivalTime(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLastArrivalTime</h4>
<pre>public&nbsp;void&nbsp;setLastArrivalTime(long&nbsp;arrivalTime)</pre>
<div class="block">Stores the last arrival time so that can make sure that departure
 times are after the arrival times.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>arrivalTime</code> - </dd></dl>
</li>
</ul>
<a name="getLastArrivalTime()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getLastArrivalTime</h4>
<pre>public&nbsp;long&nbsp;getLastArrivalTime()</pre>
<div class="block">Returns the last stored arrival time so can make sure that departure
 times are after the arrival times.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/VehicleState.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/transitime/core/VehicleAtStopInfo.html" title="class in org.transitime.core"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/transitime/core/VehicleStateManager.html" title="class in org.transitime.core"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/transitime/core/VehicleState.html" target="_top">Frames</a></li>
<li><a href="VehicleState.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
