<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Fri Mar 28 14:47:58 PDT 2014 -->
<title>TravelTimes</title>
<meta name="date" content="2014-03-28">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TravelTimes";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TravelTimes.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/transitime/core/TemporalMatcher.html" title="class in org.transitime.core"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/transitime/core/VehicleAtStopInfo.html" title="class in org.transitime.core"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/transitime/core/TravelTimes.html" target="_top">Frames</a></li>
<li><a href="TravelTimes.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.transitime.core</div>
<h2 title="Class TravelTimes" class="title">Class TravelTimes</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.transitime.core.TravelTimes</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">TravelTimes</span>
extends java.lang.Object</pre>
<div class="block">Singleton class that contains methods for determining how long a vehicle is
 expected to take to get from one point to another on the assignment. Heavily
 used both for doing temporal matching and for generating predictions.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>SkiBu Smith</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/TravelTimes.html#adjustTimeAccordingToSchedule(long, org.transitime.core.Indices)">adjustTimeAccordingToSchedule</a></strong>(long&nbsp;timeWithoutWaitStop,
                             org.transitime.core.Indices&nbsp;indices)</code>
<div class="block">Takes the currentTime passed in and determines if vehicle will be
 departing at the waitStop time instead of currentTime.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/TravelTimes.html#expectedStopTimeForStopPath(org.transitime.core.Indices)">expectedStopTimeForStopPath</a></strong>(org.transitime.core.Indices&nbsp;indices)</code>
<div class="block">Returns how long vehicle is expected to stop for the stop at the end of
 the path specified by the indices parameter.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/TravelTimes.html#expectedTravelTimeBetweenMatches(java.lang.String, java.util.Date, org.transitime.core.SpatialMatch, org.transitime.core.SpatialMatch)">expectedTravelTimeBetweenMatches</a></strong>(java.lang.String&nbsp;vehicleId,
                                java.util.Date&nbsp;time,
                                <a href="../../../org/transitime/core/SpatialMatch.html" title="class in org.transitime.core">SpatialMatch</a>&nbsp;match1,
                                <a href="../../../org/transitime/core/SpatialMatch.html" title="class in org.transitime.core">SpatialMatch</a>&nbsp;match2)</code>
<div class="block">Determines expected travel time in msec between the two matches based on
 the travel times from the database.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/TravelTimes.html#expectedTravelTimeBetweenMatches(java.lang.String, int, org.transitime.core.SpatialMatch, org.transitime.core.SpatialMatch)">expectedTravelTimeBetweenMatches</a></strong>(java.lang.String&nbsp;vehicleId,
                                int&nbsp;timeOfDaySecs,
                                <a href="../../../org/transitime/core/SpatialMatch.html" title="class in org.transitime.core">SpatialMatch</a>&nbsp;match1,
                                <a href="../../../org/transitime/core/SpatialMatch.html" title="class in org.transitime.core">SpatialMatch</a>&nbsp;match2)</code>
<div class="block">Determines expected travel time in msec between the two matches based on
 the travel times from the database.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/TravelTimes.html#expectedTravelTimeForStopPath(org.transitime.core.Indices)">expectedTravelTimeForStopPath</a></strong>(org.transitime.core.Indices&nbsp;indices)</code>
<div class="block">Returns travel time for the path specified by the indices parameter.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/TravelTimes.html#expectedTravelTimeFromBeginningOfStopPathToMatch(org.transitime.core.SpatialMatch)">expectedTravelTimeFromBeginningOfStopPathToMatch</a></strong>(<a href="../../../org/transitime/core/SpatialMatch.html" title="class in org.transitime.core">SpatialMatch</a>&nbsp;match)</code>
<div class="block">Returns the time vehicle is expected to take to travel from the beginning
 of the stop path to the spatialMatch.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/TravelTimes.html#expectedTravelTimeFromMatchToEndOfStopPath(org.transitime.core.SpatialMatch)">expectedTravelTimeFromMatchToEndOfStopPath</a></strong>(<a href="../../../org/transitime/core/SpatialMatch.html" title="class in org.transitime.core">SpatialMatch</a>&nbsp;match)</code>
<div class="block">Returns the time vehicle is expected to take to travel from the
 spatialMatch to the stop at the end of the current stop path.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../org/transitime/core/TravelTimes.html" title="class in org.transitime.core">TravelTimes</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/TravelTimes.html#getInstance()">getInstance</a></strong>()</code>
<div class="block">Returns singleton MatchProcessor</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/core/TravelTimes.html#travelTimeAsTheCrowFlies(double)">travelTimeAsTheCrowFlies</a></strong>(double&nbsp;distance)</code>
<div class="block">Determines travel time as the crows flies to cover the distance.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstance()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../org/transitime/core/TravelTimes.html" title="class in org.transitime.core">TravelTimes</a>&nbsp;getInstance()</pre>
<div class="block">Returns singleton MatchProcessor</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="travelTimeAsTheCrowFlies(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>travelTimeAsTheCrowFlies</h4>
<pre>public static&nbsp;int&nbsp;travelTimeAsTheCrowFlies(double&nbsp;distance)</pre>
<div class="block">Determines travel time as the crows flies to cover the distance. Intended
 to be used for seeing if have enough time to deadhead to a breakpoint.
 Just a very crude approximation since the distance is as the crow flies
 but vehicle will actually be traveling on various roads. And we don't
 know how fast it can really travel on those roads. But doing the best we
 can here.
 
 Uses a two step approach since sometimes vehicles can travel fast on
 highways if they are far away but will likely travel slower when closer.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>distance</code> - As the crow flies</dd>
<dt><span class="strong">Returns:</span></dt><dd>Msec would take to travel the distance</dd></dl>
</li>
</ul>
<a name="adjustTimeAccordingToSchedule(long, org.transitime.core.Indices)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>adjustTimeAccordingToSchedule</h4>
<pre>public static&nbsp;long&nbsp;adjustTimeAccordingToSchedule(long&nbsp;timeWithoutWaitStop,
                                 org.transitime.core.Indices&nbsp;indices)</pre>
<div class="block">Takes the currentTime passed in and determines if vehicle will be
 departing at the waitStop time instead of currentTime. If so, then the
 layover time is returned. Does not take break time or expected stop time
 into account.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>timeWithoutWaitStop</code> - The time vehicle is expected to depart if there was no
            waitStop</dd><dd><code>indices</code> - Describes which stop</dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="expectedTravelTimeFromMatchToEndOfStopPath(org.transitime.core.SpatialMatch)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expectedTravelTimeFromMatchToEndOfStopPath</h4>
<pre>public&nbsp;int&nbsp;expectedTravelTimeFromMatchToEndOfStopPath(<a href="../../../org/transitime/core/SpatialMatch.html" title="class in org.transitime.core">SpatialMatch</a>&nbsp;match)</pre>
<div class="block">Returns the time vehicle is expected to take to travel from the
 spatialMatch to the stop at the end of the current stop path. Does not
 include the stop time for the stop at the end of the stop path.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>match</code> - The starting point</dd>
<dt><span class="strong">Returns:</span></dt><dd>Expected travel time in msec</dd></dl>
</li>
</ul>
<a name="expectedTravelTimeFromBeginningOfStopPathToMatch(org.transitime.core.SpatialMatch)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expectedTravelTimeFromBeginningOfStopPathToMatch</h4>
<pre>public&nbsp;int&nbsp;expectedTravelTimeFromBeginningOfStopPathToMatch(<a href="../../../org/transitime/core/SpatialMatch.html" title="class in org.transitime.core">SpatialMatch</a>&nbsp;match)</pre>
<div class="block">Returns the time vehicle is expected to take to travel from the beginning
 of the stop path to the spatialMatch. Only includes travel time, not time
 expected to be at the stop.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>match</code> - The end point</dd>
<dt><span class="strong">Returns:</span></dt><dd>Expected travel time in msec</dd></dl>
</li>
</ul>
<a name="expectedTravelTimeForStopPath(org.transitime.core.Indices)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expectedTravelTimeForStopPath</h4>
<pre>public&nbsp;int&nbsp;expectedTravelTimeForStopPath(org.transitime.core.Indices&nbsp;indices)</pre>
<div class="block">Returns travel time for the path specified by the indices parameter. Does
 not include the stop time.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>indices</code> - Specifies which path</dd>
<dt><span class="strong">Returns:</span></dt><dd>Expected travel time in msec</dd></dl>
</li>
</ul>
<a name="expectedStopTimeForStopPath(org.transitime.core.Indices)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expectedStopTimeForStopPath</h4>
<pre>public&nbsp;int&nbsp;expectedStopTimeForStopPath(org.transitime.core.Indices&nbsp;indices)</pre>
<div class="block">Returns how long vehicle is expected to stop for the stop at the end of
 the path specified by the indices parameter.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>indices</code> - Which path to return stop time for.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Stop time in msec</dd></dl>
</li>
</ul>
<a name="expectedTravelTimeBetweenMatches(java.lang.String, int, org.transitime.core.SpatialMatch, org.transitime.core.SpatialMatch)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expectedTravelTimeBetweenMatches</h4>
<pre>public&nbsp;int&nbsp;expectedTravelTimeBetweenMatches(java.lang.String&nbsp;vehicleId,
                                   int&nbsp;timeOfDaySecs,
                                   <a href="../../../org/transitime/core/SpatialMatch.html" title="class in org.transitime.core">SpatialMatch</a>&nbsp;match1,
                                   <a href="../../../org/transitime/core/SpatialMatch.html" title="class in org.transitime.core">SpatialMatch</a>&nbsp;match2)</pre>
<div class="block">Determines expected travel time in msec between the two matches based on
 the travel times from the database.
 
 Note: would like to make travel times more accurate by also looking at how
 fast vehicle has been moving compared to expected travel times for the
 last few minutes. Would also like to look at how fast previous vehicle
 went if it was recent.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>vehicleId</code> - for logging messages</dd><dd><code>timeOfDaySecs</code> - so can take layovers into account</dd><dd><code>match1AfterStop</code> - </dd><dd><code>match2BeforeStop</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>travel time in msec between matches</dd></dl>
</li>
</ul>
<a name="expectedTravelTimeBetweenMatches(java.lang.String, java.util.Date, org.transitime.core.SpatialMatch, org.transitime.core.SpatialMatch)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>expectedTravelTimeBetweenMatches</h4>
<pre>public&nbsp;int&nbsp;expectedTravelTimeBetweenMatches(java.lang.String&nbsp;vehicleId,
                                   java.util.Date&nbsp;time,
                                   <a href="../../../org/transitime/core/SpatialMatch.html" title="class in org.transitime.core">SpatialMatch</a>&nbsp;match1,
                                   <a href="../../../org/transitime/core/SpatialMatch.html" title="class in org.transitime.core">SpatialMatch</a>&nbsp;match2)</pre>
<div class="block">Determines expected travel time in msec between the two matches based on
 the travel times from the database. * Same as other
 travelTimeBetweenMatches() method but uses Date to determine seconds into
 day. Therefore it can be simpler to use since AvlReports and such have a
 Date. Returns travel time in msec.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>vehicleId</code> - for logging messages</dd><dd><code>time</code> - </dd><dd><code>match1</code> - </dd><dd><code>match2</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TravelTimes.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/transitime/core/TemporalMatcher.html" title="class in org.transitime.core"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/transitime/core/VehicleAtStopInfo.html" title="class in org.transitime.core"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/transitime/core/TravelTimes.html" target="_top">Frames</a></li>
<li><a href="TravelTimes.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
